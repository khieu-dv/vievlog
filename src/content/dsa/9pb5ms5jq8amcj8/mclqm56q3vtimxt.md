---
title: "Tree (C√¢y)"
postId: "mclqm56q3vtimxt"
category: "Data Structures"
created: "19/8/2025"
updated: "2/9/2025"
---

# Tree (C√¢y)


## üéØ M·ª•c ti√™u b√†i h·ªçc

Sau khi ho√†n th√†nh b√†i h·ªçc n√†y, b·∫°n s·∫Ω:

- **Hi·ªÉu b·∫£n ch·∫•t c·ªßa Tree**: N·∫Øm c·∫•u tr√∫c d·ªØ li·ªáu ph√¢n c·∫•p, n√∫t g·ªëc, n√∫t l√°, chi·ªÅu cao, ƒë·ªô s√¢u, v√† m·ªëi quan h·ªá cha-con.
- **Th√†nh th·∫°o c√°c thao t√°c c∆° b·∫£n**: L√†m ƒë∆∞·ª£c vi·ªác th√™m, x√≥a, t√¨m ki·∫øm n√∫t, v√† qu·∫£n l√Ω m·ªëi quan h·ªá gi·ªØa c√°c n√∫t trong c√¢y nh·ªã ph√¢n.
- **L√†m ch·ªß c√°c ph∆∞∆°ng ph√°p duy·ªát c√¢y**: Hi·ªÉu v√† d√πng 4 c√°ch duy·ªát: In-Order, Pre-Order, Post-Order v√† Level-Order.
- **·ª®ng d·ª•ng th·ª±c t·∫ø**: X√¢y d·ª±ng c√¢y gia ph·∫£, h·ªá th·ªëng file, ho·∫∑c m√°y t√≠nh bi·ªÉu th·ª©c to√°n h·ªçc.
- **Ph√¢n t√≠ch hi·ªáu su·∫•t**: So s√°nh ∆∞u nh∆∞·ª£c ƒëi·ªÉm c·ªßa Tree v·ªõi c·∫•u tr√∫c kh√°c v√† bi·∫øt khi n√†o d√πng.

## üìù N·ªôi dung chi ti·∫øt

### Tree l√† g√¨?

Tree (C√¢y) l√† c·∫•u tr√∫c d·ªØ li·ªáu ph√¢n c·∫•p, gi·ªëng nh∆∞ c√¢y gia ƒë√¨nh. M·ªói n√∫t c√≥ th·ªÉ c√≥ nhi·ªÅu con nh∆∞ng ch·ªâ m·ªôt cha (tr·ª´ n√∫t g·ªëc). C√°c n√∫t n·ªëi b·∫±ng c·∫°nh theo c·∫•p b·∫≠c.

**ƒê·∫∑c ƒëi·ªÉm quan tr·ªçng:**
- **Hierarchical Structure**: D·ªØ li·ªáu s·∫Øp x·∫øp theo c·∫•p t·ª´ tr√™n xu·ªëng.
- **No Cycles**: Kh√¥ng c√≥ v√≤ng l·∫∑p, ch·ªâ m·ªôt ƒë∆∞·ªùng t·ª´ n√∫t v·ªÅ g·ªëc.
- **Connected**: T·∫•t c·∫£ n√∫t n·ªëi qua n√∫t g·ªëc.
- **Recursive Nature**: M·ªói ph·∫ßn con c≈©ng l√† c√¢y ho√†n ch·ªânh.

## C√°c lo·∫°i Tree trong b√†i h·ªçc n√†y

* [Binary Search Tree](https://www.vievlog.com/posts?category=rtsldf7tjuwe586&post=kypssyr8ox7dzca) - C√¢y t√¨m ki·∫øm nh·ªã ph√¢n
* [AVL Tree](https://www.vievlog.com/posts?category=rtsldf7tjuwe586&post=0o0rr3ss3gr4alx) - C√¢y AVL (t·ª± c√¢n b·∫±ng)
* [Red-Black Tree](https://www.vievlog.com/posts?category=rtsldf7tjuwe586&post=7y7t9t998fim1cq) - C√¢y ƒë·ªè-ƒëen  
* [Segment Tree](https://www.vievlog.com/posts?category=rtsldf7tjuwe586&post=vkj92tl4he41wel) - C√¢y ph√¢n ƒëo·∫°n v·ªõi min/max/sum
* [Fenwick Tree](https://www.vievlog.com/posts?category=rtsldf7tjuwe586&post=osn4eqh5ht8z8yg) - C√¢y Fenwick (Binary Indexed Tree)

## Kh√°i ni·ªám c∆° b·∫£n

![Tree](https://www.vievlog.com/dsa/images/tree.jpeg)

### Thu·∫≠t ng·ªØ quan tr·ªçng

- **Root (G·ªëc)**: N√∫t tr√™n c√πng, kh√¥ng c√≥ cha.
- **Parent (Cha)**: N√∫t tr√™n n·ªëi tr·ª±c ti·∫øp v·ªõi n√∫t hi·ªán t·∫°i.
- **Child (Con)**: N√∫t d∆∞·ªõi n·ªëi tr·ª±c ti·∫øp v·ªõi n√∫t hi·ªán t·∫°i.
- **Leaf (L√°)**: N√∫t kh√¥ng c√≥ con.
- **Internal Node (N√∫t trong)**: N√∫t c√≥ √≠t nh·∫•t m·ªôt con.
- **Sibling (Anh em)**: N√∫t chung cha.
- **Height (Chi·ªÅu cao)**: ƒê∆∞·ªùng d√†i nh·∫•t t·ª´ n√∫t ƒë·∫øn l√°.
- **Depth (ƒê·ªô s√¢u)**: ƒê∆∞·ªùng t·ª´ g·ªëc ƒë·∫øn n√∫t.
- **Level (M·ª©c)**: N√∫t c√≥ c√πng ƒë·ªô s√¢u.
- **Subtree (C√¢y con)**: C√¢y nh·ªè t·ª´ m·ªôt n√∫t v√† con ch√°u.

### Tri·ªÉn khai BinaryTreeNode

```javascript
import Comparator from '../../utils/comparator/Comparator';
import HashTable from '../hash-table/HashTable';

export default class BinaryTreeNode {
  constructor(value = null) {
    this.left = null;           // Con tr√°i
    this.right = null;          // Con ph·∫£i
    this.parent = null;         // N√∫t cha
    this.value = value;         // Gi√° tr·ªã l∆∞u tr·ªØ

    // Th√¥ng tin meta v√† comparator
    this.meta = new HashTable();
    this.nodeComparator = new Comparator();
  }

  // Getter ƒë·ªÉ t√≠nh chi·ªÅu cao c√¢y con tr√°i
  get leftHeight() {
    if (!this.left) return 0;
    return this.left.height + 1;
  }

  // Getter ƒë·ªÉ t√≠nh chi·ªÅu cao c√¢y con ph·∫£i
  get rightHeight() {
    if (!this.right) return 0;
    return this.right.height + 1;
  }

  // Chi·ªÅu cao c·ªßa n√∫t = max(chi·ªÅu cao con tr√°i, chi·ªÅu cao con ph·∫£i)
  get height() {
    return Math.max(this.leftHeight, this.rightHeight);
  }

  // H·ªá s·ªë c√¢n b·∫±ng (quan tr·ªçng cho AVL Tree)
  get balanceFactor() {
    return this.leftHeight - this.rightHeight;
  }

  // T√¨m n√∫t b√°c/ch√∫ (uncle) - con c·ªßa √¥ng b√† kh√¥ng ph·∫£i cha
  get uncle() {
    if (!this.parent || !this.parent.parent) {
      return undefined;
    }

    // Ki·ªÉm tra √¥ng b√† c√≥ ƒë·ªß 2 con kh√¥ng
    if (!this.parent.parent.left || !this.parent.parent.right) {
      return undefined;
    }

    // T√¨m anh em c·ªßa cha
    if (this.nodeComparator.equal(this.parent, this.parent.parent.left)) {
      return this.parent.parent.right;
    }
    return this.parent.parent.left;
  }

  // Thi·∫øt l·∫≠p gi√° tr·ªã cho n√∫t
  setValue(value) {
    this.value = value;
    return this;
  }

  // Thi·∫øt l·∫≠p n√∫t con tr√°i v√† c·∫≠p nh·∫≠t quan h·ªá cha-con
  setLeft(node) {
    // Ng·∫Øt k·∫øt n·ªëi v·ªõi con tr√°i c≈©
    if (this.left) {
      this.left.parent = null;
    }

    // K·∫øt n·ªëi v·ªõi con tr√°i m·ªõi
    this.left = node;
    if (this.left) {
      this.left.parent = this;
    }

    return this;
  }

  // Thi·∫øt l·∫≠p n√∫t con ph·∫£i v√† c·∫≠p nh·∫≠t quan h·ªá cha-con
  setRight(node) {
    // Ng·∫Øt k·∫øt n·ªëi v·ªõi con ph·∫£i c≈©
    if (this.right) {
      this.right.parent = null;
    }

    // K·∫øt n·ªëi v·ªõi con ph·∫£i m·ªõi
    this.right = node;
    if (this.right) {
      this.right.parent = this;
    }

    return this;
  }

  // X√≥a n√∫t con kh·ªèi n√∫t hi·ªán t·∫°i
  removeChild(nodeToRemove) {
    if (this.left && this.nodeComparator.equal(this.left, nodeToRemove)) {
      this.left = null;
      return true;
    }

    if (this.right && this.nodeComparator.equal(this.right, nodeToRemove)) {
      this.right = null;
      return true;
    }

    return false;
  }

  // Thay th·∫ø m·ªôt n√∫t con b·∫±ng n√∫t kh√°c
  replaceChild(nodeToReplace, replacementNode) {
    if (!nodeToReplace || !replacementNode) {
      return false;
    }

    if (this.left && this.nodeComparator.equal(this.left, nodeToReplace)) {
      this.left = replacementNode;
      return true;
    }

    if (this.right && this.nodeComparator.equal(this.right, nodeToReplace)) {
      this.right = replacementNode;
      return true;
    }

    return false;
  }

  // Sao ch√©p n√∫t (static method)
  static copyNode(sourceNode, targetNode) {
    targetNode.setValue(sourceNode.value);
    targetNode.setLeft(sourceNode.left);
    targetNode.setRight(sourceNode.right);
  }

  // Duy·ªát c√¢y theo th·ª© t·ª± In-Order (Tr√°i ‚Üí G·ªëc ‚Üí Ph·∫£i)
  traverseInOrder() {
    let traverse = [];

    // Duy·ªát c√¢y con tr√°i tr∆∞·ªõc
    if (this.left) {
      traverse = traverse.concat(this.left.traverseInOrder());
    }

    // Th√™m n√∫t hi·ªán t·∫°i
    traverse.push(this.value);

    // Duy·ªát c√¢y con ph·∫£i sau
    if (this.right) {
      traverse = traverse.concat(this.right.traverseInOrder());
    }

    return traverse;
  }

  // Duy·ªát c√¢y theo th·ª© t·ª± Pre-Order (G·ªëc ‚Üí Tr√°i ‚Üí Ph·∫£i)
  traversePreOrder() {
    let traverse = [];

    // Th√™m n√∫t hi·ªán t·∫°i tr∆∞·ªõc
    traverse.push(this.value);

    // Duy·ªát c√¢y con tr√°i
    if (this.left) {
      traverse = traverse.concat(this.left.traversePreOrder());
    }

    // Duy·ªát c√¢y con ph·∫£i
    if (this.right) {
      traverse = traverse.concat(this.right.traversePreOrder());
    }

    return traverse;
  }

  // Duy·ªát c√¢y theo th·ª© t·ª± Post-Order (Tr√°i ‚Üí Ph·∫£i ‚Üí G·ªëc)
  traversePostOrder() {
    let traverse = [];

    // Duy·ªát c√¢y con tr√°i tr∆∞·ªõc
    if (this.left) {
      traverse = traverse.concat(this.left.traversePostOrder());
    }

    // Duy·ªát c√¢y con ph·∫£i
    if (this.right) {
      traverse = traverse.concat(this.right.traversePostOrder());
    }

    // Th√™m n√∫t hi·ªán t·∫°i cu·ªëi c√πng
    traverse.push(this.value);

    return traverse;
  }

  toString() {
    return this.traverseInOrder().toString();
  }
}
```

### C√°c ph∆∞∆°ng ph√°p duy·ªát c√¢y

**1. In-Order Traversal (Tr√°i ‚Üí G·ªëc ‚Üí Ph·∫£i)**
- Duy·ªát tr√°i tr∆∞·ªõc, sau g·ªëc, r·ªìi ph·∫£i.
- D√πng cho c√¢y t√¨m ki·∫øm ƒë·ªÉ l·∫•y d·ªØ li·ªáu s·∫Øp x·∫øp.

**2. Pre-Order Traversal (G·ªëc ‚Üí Tr√°i ‚Üí Ph·∫£i)**
- G·ªëc tr∆∞·ªõc, r·ªìi tr√°i, r·ªìi ph·∫£i.
- D√πng ƒë·ªÉ sao ch√©p c√¢y ho·∫∑c t·∫°o bi·ªÉu th·ª©c prefix.

**3. Post-Order Traversal (Tr√°i ‚Üí Ph·∫£i ‚Üí G·ªëc)**
- Tr√°i tr∆∞·ªõc, r·ªìi ph·∫£i, sau g·ªëc.
- D√πng ƒë·ªÉ x√≥a c√¢y ho·∫∑c t√≠nh t·ª´ d∆∞·ªõi l√™n.

**4. Level-Order Traversal (Theo t·ª´ng t·∫ßng)**
- Duy·ªát t·ª´ng m·ª©c t·ª´ tr√™n xu·ªëng, tr√°i sang ph·∫£i.
- D√πng h√†ng ƒë·ª£i (Queue).

### V√≠ d·ª• s·ª≠ d·ª•ng c∆° b·∫£n

```javascript
// T·∫°o c√¢y ƒë∆°n gi·∫£n
const root = new BinaryTreeNode(1);
const left = new BinaryTreeNode(2);  
const right = new BinaryTreeNode(3);

root.setLeft(left);
root.setRight(right);

// Th√™m n√∫t con cho left
left.setLeft(new BinaryTreeNode(4));
left.setRight(new BinaryTreeNode(5));

// Duy·ªát c√¢y
console.log('In-Order:', root.traverseInOrder());    // [4, 2, 5, 1, 3]
console.log('Pre-Order:', root.traversePreOrder());  // [1, 2, 4, 5, 3]
console.log('Post-Order:', root.traversePostOrder()); // [4, 5, 2, 3, 1]
```

## üèÜ B√†i t·∫≠p th·ª±c h√†nh

### B√†i t·∫≠p 1: H·ªá th·ªëng qu·∫£n l√Ω c√¢y gia ƒë√¨nh (Family Tree)

**ƒê·ªÅ b√†i**: X√¢y d·ª±ng h·ªá th·ªëng qu·∫£n l√Ω gia ph·∫£. H·ªó tr·ª£:
- Th√™m th√†nh vi√™n m·ªõi.
- T√¨m th√†nh vi√™n theo t√™n.
- Hi·ªÉn th·ªã theo th·∫ø h·ªá.
- T√¨m quan h·ªá gi·ªØa hai ng∆∞·ªùi.
- ƒê·∫øm con ch√°u c·ªßa m·ªôt ng∆∞·ªùi.

**Ph√¢n t√≠ch b√†i to√°n**:
- D√πng Binary Tree cho c·∫•u tr√∫c gia ƒë√¨nh.
- M·ªói n√∫t l√† ng∆∞·ªùi v·ªõi th√¥ng tin.
- Quan h·ªá cha-con qua c√¢y.
- C·∫ßn t√¨m ki·∫øm v√† th·ªëng k√™ ƒë∆°n gi·∫£n.

**L·ªùi gi·∫£i chi ti·∫øt**:

```javascript
class ThanhVienGiaDinh {
  constructor(ten, namSinh, gioiTinh, ngheNghiep = '') {
    this.ten = ten;
    this.namSinh = namSinh;
    this.gioiTinh = gioiTinh;
    this.ngheNghiep = ngheNghiep;
    this.tuoi = new Date().getFullYear() - namSinh;
  }

  toString() {
    return `${this.ten} (${this.gioiTinh}, ${this.tuoi} tu·ªïi, ${this.ngheNghiep})`;
  }
}

class HeThongGiaPhap {
  constructor(toTien) {
    this.root = new BinaryTreeNode(toTien);
    this.tongSoThanhVien = 1;
  }

  // Th√™m con cho m·ªôt th√†nh vi√™n
  themCon(tenCha, conMoi, laTrai = true) {
    const nutCha = this.timThanhVien(tenCha);
    if (!nutCha) {
      throw new Error(`Kh√¥ng t√¨m th·∫•y ${tenCha} trong gia ph·∫£`);
    }

    const nutConMoi = new BinaryTreeNode(conMoi);
    
    if (laTrai) {
      if (nutCha.left) {
        console.log(`‚ö†Ô∏è ${tenCha} ƒë√£ c√≥ con trai. Kh√¥ng th·ªÉ th√™m.`);
        return false;
      }
      nutCha.setLeft(nutConMoi);
      console.log(`‚úÖ ƒê√£ th√™m ${conMoi.ten} l√†m con trai c·ªßa ${tenCha}`);
    } else {
      if (nutCha.right) {
        console.log(`‚ö†Ô∏è ${tenCha} ƒë√£ c√≥ con g√°i. Kh√¥ng th·ªÉ th√™m.`);
        return false;
      }
      nutCha.setRight(nutConMoi);
      console.log(`‚úÖ ƒê√£ th√™m ${conMoi.ten} l√†m con g√°i c·ªßa ${tenCha}`);
    }

    this.tongSoThanhVien++;
    return true;
  }

  // T√¨m th√†nh vi√™n trong gia ph·∫£ b·∫±ng ƒë·ªá quy
  timThanhVien(ten, nut = this.root) {
    if (!nut) return null;

    if (nut.value.ten === ten) {
      return nut;
    }

    // T√¨m trong nh√°nh con trai
    const timTrai = this.timThanhVien(ten, nut.left);
    if (timTrai) return timTrai;

    // T√¨m trong nh√°nh con g√°i  
    return this.timThanhVien(ten, nut.right);
  }

  // T√¨m quan h·ªá gi·ªØa hai ng∆∞·ªùi
  timQuanHe(nguoi1, nguoi2) {
    const nut1 = this.timThanhVien(nguoi1);
    const nut2 = this.timThanhVien(nguoi2);

    if (!nut1 || !nut2) {
      return 'M·ªôt trong hai ng∆∞·ªùi kh√¥ng t·ªìn t·∫°i trong gia ph·∫£';
    }

    if (nut1 === nut2) {
      return 'C√πng m·ªôt ng∆∞·ªùi';
    }

    // Ki·ªÉm tra quan h·ªá cha-con
    if (nut1.parent === nut2) {
      return `${nguoi1} l√† con c·ªßa ${nguoi2}`;
    }
    
    if (nut2.parent === nut1) {
      return `${nguoi2} l√† con c·ªßa ${nguoi1}`;
    }

    // Ki·ªÉm tra anh em ru·ªôt
    if (nut1.parent && nut1.parent === nut2.parent) {
      return `${nguoi1} v√† ${nguoi2} l√† anh em ru·ªôt`;
    }

    // Ki·ªÉm tra √¥ng b√† - ch√°u
    if (nut1.parent && nut1.parent.parent === nut2) {
      return `${nguoi1} l√† ch√°u c·ªßa ${nguoi2}`;
    }
    
    if (nut2.parent && nut2.parent.parent === nut1) {
      return `${nguoi2} l√† ch√°u c·ªßa ${nguoi1}`;
    }

    return 'Kh√¥ng x√°c ƒë·ªãnh ƒë∆∞·ª£c quan h·ªá tr·ª±c ti·∫øp';
  }

  // ƒê·∫øm s·ªë con ch√°u c·ªßa m·ªôt ng∆∞·ªùi
  demConChau(ten) {
    const nguoi = this.timThanhVien(ten);
    if (!nguoi) {
      return 0;
    }

    return this.demConChauDenQuy(nguoi) - 1; // Tr·ª´ ch√≠nh ng∆∞·ªùi ƒë√≥
  }

  demConChauDenQuy(nut) {
    if (!nut) return 0;

    let dem = 1; // ƒê·∫øm ch√≠nh n√∫t n√†y

    // ƒê·∫øm con trai v√† con ch√°u c·ªßa con trai
    if (nut.left) {
      dem += this.demConChauDenQuy(nut.left);
    }

    // ƒê·∫øm con g√°i v√† con ch√°u c·ªßa con g√°i
    if (nut.right) {
      dem += this.demConChauDenQuy(nut.right);
    }

    return dem;
  }

  // Hi·ªÉn th·ªã gia ph·∫£ theo th·∫ø h·ªá
  hienThiGiaPhap() {
    console.log('\nüå≥ === GIA PH·∫¢ THEO TH·∫æ H·ªÜ ===');
    this.hienThiTheoMuc(this.root, 0);
    console.log(`\nüìä T·ªïng s·ªë th√†nh vi√™n: ${this.tongSoThanhVien} ng∆∞·ªùi`);
  }

  hienThiTheoMuc(nut, muc) {
    if (!nut) return;

    const khoangTrang = '  '.repeat(muc);
    const capBac = muc === 0 ? 'üë¥ T·ªï ti√™n' : 
                   muc === 1 ? 'üë® Th·∫ø h·ªá 1' :
                   muc === 2 ? 'üë¶ Th·∫ø h·ªá 2' : 
                   `üë∂ Th·∫ø h·ªá ${muc}`;
    
    console.log(`${khoangTrang}${capBac}: ${nut.value.toString()}`);

    // Hi·ªÉn th·ªã con trai
    if (nut.left) {
      console.log(`${khoangTrang}‚îú‚îÄ üë¶ Con trai:`);
      this.hienThiTheoMuc(nut.left, muc + 1);
    }

    // Hi·ªÉn th·ªã con g√°i
    if (nut.right) {
      console.log(`${khoangTrang}‚îî‚îÄ üëß Con g√°i:`);
      this.hienThiTheoMuc(nut.right, muc + 1);
    }
  }

  // L·∫•y danh s√°ch th√†nh vi√™n theo th·∫ø h·ªá
  layThanhVienTheoTheHe(theHe) {
    const danhSach = [];
    this.collectTheoMuc(this.root, 0, theHe, danhSach);
    return danhSach;
  }

  collectTheoMuc(nut, mucHienTai, mucMucTieu, danhSach) {
    if (!nut) return;

    if (mucHienTai === mucMucTieu) {
      danhSach.push(nut.value);
      return;
    }

    this.collectTheoMuc(nut.left, mucHienTai + 1, mucMucTieu, danhSach);
    this.collectTheoMuc(nut.right, mucHienTai + 1, mucMucTieu, danhSach);
  }

  // Th·ªëng k√™ gia ph·∫£
  thongKeGiaPhap() {
    console.log('\nüìà === TH·ªêNG K√ä GIA PH·∫¢ ===');
    
    const thongKe = {
      tongSo: this.tongSoThanhVien,
      nam: 0,
      nu: 0,
      trungBinhTuoi: 0,
      soTheHe: this.tinhSoTheHe()
    };

    this.collectThongKe(this.root, thongKe);
    thongKe.trungBinhTuoi = Math.round(thongKe.trungBinhTuoi / thongKe.tongSo);

    console.log(`üë• T·ªïng s·ªë th√†nh vi√™n: ${thongKe.tongSo}`);
    console.log(`üë® Nam: ${thongKe.nam} (${Math.round(thongKe.nam/thongKe.tongSo*100)}%)`);
    console.log(`üë© N·ªØ: ${thongKe.nu} (${Math.round(thongKe.nu/thongKe.tongSo*100)}%)`);
    console.log(`üìÖ Tu·ªïi trung b√¨nh: ${thongKe.trungBinhTuoi} tu·ªïi`);
    console.log(`üè† S·ªë th·∫ø h·ªá: ${thongKe.soTheHe}`);

    return thongKe;
  }

  collectThongKe(nut, thongKe) {
    if (!nut) return;

    const nguoi = nut.value;
    if (nguoi.gioiTinh === 'Nam') {
      thongKe.nam++;
    } else {
      thongKe.nu++;
    }
    thongKe.trungBinhTuoi += nguoi.tuoi;

    this.collectThongKe(nut.left, thongKe);
    this.collectThongKe(nut.right, thongKe);
  }

  tinhSoTheHe() {
    return this.tinhChieuCao(this.root) + 1;
  }

  tinhChieuCao(nut) {
    if (!nut) return -1;
    return Math.max(this.tinhChieuCao(nut.left), this.tinhChieuCao(nut.right)) + 1;
  }
}

// Demo h·ªá th·ªëng gia ph·∫£
console.log('üå≥ === DEMO H·ªÜ TH·ªêNG QU·∫¢N L√ù GIA PH·∫¢ ===');

// T·∫°o t·ªï ti√™n
const ongNoi = new ThanhVienGiaDinh('Nguy·ªÖn VƒÉn S∆°n', 1920, 'Nam', 'N√¥ng d√¢n');
const giaPhap = new HeThongGiaPhap(ongNoi);

// Th√™m th·∫ø h·ªá 1
const cha = new ThanhVienGiaDinh('Nguy·ªÖn VƒÉn Minh', 1950, 'Nam', 'Gi√°o vi√™n');
const co = new ThanhVienGiaDinh('Nguy·ªÖn Th·ªã Lan', 1955, 'N·ªØ', 'Y t√°');

giaPhap.themCon('Nguy·ªÖn VƒÉn S∆°n', cha, true);
giaPhap.themCon('Nguy·ªÖn VƒÉn S∆°n', co, false);

// Th√™m th·∫ø h·ªá 2 - con c·ªßa cha
const toi = new ThanhVienGiaDinh('Nguy·ªÖn VƒÉn An', 1980, 'Nam', 'L·∫≠p tr√¨nh vi√™n');
const em = new ThanhVienGiaDinh('Nguy·ªÖn Th·ªã Hoa', 1985, 'N·ªØ', 'K·∫ø to√°n');

giaPhap.themCon('Nguy·ªÖn VƒÉn Minh', toi, true);
giaPhap.themCon('Nguy·ªÖn VƒÉn Minh', em, false);

// Th√™m th·∫ø h·ªá 2 - con c·ªßa c√¥
const anhTrai = new ThanhVienGiaDinh('Nguy·ªÖn VƒÉn ƒê·ª©c', 1978, 'Nam', 'B√°c sƒ©');
const chiBay = new ThanhVienGiaDinh('Nguy·ªÖn Th·ªã Mai', 1982, 'N·ªØ', 'Lu·∫≠t s∆∞');

giaPhap.themCon('Nguy·ªÖn Th·ªã Lan', anhTrai, true);
giaPhap.themCon('Nguy·ªÖn Th·ªã Lan', chiBay, false);

// Hi·ªÉn th·ªã gia ph·∫£
giaPhap.hienThiGiaPhap();

// Test c√°c t√≠nh nƒÉng
console.log('\nüîç === TEST T√åM KI·∫æM V√Ä QUAN H·ªÜ ===');

// T√¨m quan h·ªá
console.log('Quan h·ªá An - Hoa:', giaPhap.timQuanHe('Nguy·ªÖn VƒÉn An', 'Nguy·ªÖn Th·ªã Hoa'));
console.log('Quan h·ªá An - ƒê·ª©c:', giaPhap.timQuanHe('Nguy·ªÖn VƒÉn An', 'Nguy·ªÖn VƒÉn ƒê·ª©c'));
console.log('Quan h·ªá An - S∆°n:', giaPhap.timQuanHe('Nguy·ªÖn VƒÉn An', 'Nguy·ªÖn VƒÉn S∆°n'));

// ƒê·∫øm con ch√°u
console.log(`\nS·ªë con ch√°u c·ªßa √¥ng S∆°n: ${giaPhap.demConChau('Nguy·ªÖn VƒÉn S∆°n')} ng∆∞·ªùi`);
console.log(`S·ªë con ch√°u c·ªßa cha Minh: ${giaPhap.demConChau('Nguy·ªÖn VƒÉn Minh')} ng∆∞·ªùi`);

// L·∫•y th√†nh vi√™n theo th·∫ø h·ªá
console.log('\nüë• Th·∫ø h·ªá 1:');
const theHe1 = giaPhap.layThanhVienTheoTheHe(1);
theHe1.forEach(nguoi => console.log(`  - ${nguoi.toString()}`));

console.log('\nüë¶ Th·∫ø h·ªá 2:');
const theHe2 = giaPhap.layThanhVienTheoTheHe(2);
theHe2.forEach(nguoi => console.log(`  - ${nguoi.toString()}`));

// Th·ªëng k√™
giaPhap.thongKeGiaPhap();
```

## üîë Nh·ªØng ƒëi·ªÉm quan tr·ªçng c·∫ßn l∆∞u √Ω

### 1. **Hi·ªÉu r√µ c·∫•u tr√∫c ƒë·ªá quy**
- Tree l√† ƒë·ªá quy: m·ªói c√¢y con l√† c√¢y nh·ªè.
- H·∫ßu h·∫øt thu·∫≠t to√°n d√πng ƒë·ªá quy.
- Tr√°nh c√¢y qu√° s√¢u ƒë·ªÉ kh√¥ng l·ªói b·ªô nh·ªõ.

### 2. **Qu·∫£n l√Ω quan h·ªá cha-con ƒë√∫ng c√°ch**
- C·∫≠p nh·∫≠t parent khi thay ƒë·ªïi c√¢y.
- Ki·ªÉm tra null tr∆∞·ªõc khi d√πng n√∫t.
- Gi·ªØ quan h·ªá nh·∫•t qu√°n.

### 3. **Ch·ªçn ph∆∞∆°ng ph√°p duy·ªát ph√π h·ª£p**
- In-Order: L·∫•y d·ªØ li·ªáu s·∫Øp x·∫øp.
- Pre-Order: Sao ch√©p c√¢y.
- Post-Order: X√≥a c√¢y.
- Level-Order: Duy·ªát theo t·∫ßng.

### 4. **T·ªëi ∆∞u h√≥a hi·ªáu su·∫•t**
- Tr√°nh duy·ªát th·ª´a.
- D√πng cache cho t√≠nh to√°n.
- D√πng v√≤ng l·∫∑p thay ƒë·ªá quy n·∫øu c√¢y l·ªõn.
- Gi·ªõi h·∫°n ƒë·ªô s√¢u.

### 5. **L·ªói th∆∞·ªùng g·∫∑p**
- Qu√™n c·∫≠p nh·∫≠t parent.
- Kh√¥ng ki·ªÉm tra null.
- Sai ph∆∞∆°ng ph√°p duy·ªát.
- Kh√¥ng gi·∫£i ph√≥ng b·ªô nh·ªõ khi x√≥a.
- T·∫°o v√≤ng l·∫∑p trong c√¢y.

## üìù B√†i t·∫≠p v·ªÅ nh√†

### B√†i t·∫≠p 1: H·ªá th·ªëng t·ªï ch·ª©c s·ª± ki·ªán (Event Organizer)

**Y√™u c·∫ßu**: Qu·∫£n l√Ω s·ª± ki·ªán ph√¢n c·∫•p:
- S·ª± ki·ªán ch√≠nh ch·ª©a ho·∫°t ƒë·ªông con.
- Ho·∫°t ƒë·ªông c√≥ phi√™n ri√™ng.
- L·∫≠p l·ªãch kh√¥ng tr√πng.
- T√≠nh th·ªùi gian v√† chi ph√≠ t·ªïng.
- T√¨m ho·∫°t ƒë·ªông theo ch·ªß ƒë·ªÅ ho·∫∑c th·ªùi gian.

**G·ª£i √Ω k·ªπ thu·∫≠t**:
- D√πng Tree cho c·∫•u tr√∫c.
- N√∫t ch·ª©a th·ªùi gian, ƒë·ªãa ƒëi·ªÉm, chi ph√≠.
- Ki·ªÉm tra xung ƒë·ªôt th·ªùi gian.
- T·∫°o b√°o c√°o th·ªëng k√™.

### B√†i t·∫≠p 2: Tr√≤ ch∆°i c√¢u h·ªèi tr·∫Øc nghi·ªám th√¥ng minh

**Y√™u c·∫ßu**: Tr√≤ ch∆°i c√¢u h·ªèi ph√¢n nh√°nh:
- C√¢u h·ªèi kh√≥ d·∫ßn.
- Sai d·∫´n d·ªÖ h∆°n, ƒë√∫ng d·∫´n kh√≥ h∆°n.
- T√≠nh ƒëi·ªÉm theo ƒë·ªô kh√≥ v√† th·ªùi gian.
- L∆∞u ti·∫øn tr√¨nh.
- Hi·ªÉn th·ªã c√¢y quy·∫øt ƒë·ªãnh.

**G·ª£i √Ω k·ªπ thu·∫≠t**:
- D√πng Decision Tree cho ph√¢n nh√°nh.
- T√≠nh ƒëi·ªÉm theo ƒë∆∞·ªùng ƒëi.
- G·ª£i √Ω th√¥ng minh.
- Hi·ªÉn th·ªã ti·∫øn tr√¨nh c√¢y.

---

*Post ID: mclqm56q3vtimxt*  
*Category: Data Structures*  
*Created: 19/8/2025*  
*Updated: 2/9/2025*
