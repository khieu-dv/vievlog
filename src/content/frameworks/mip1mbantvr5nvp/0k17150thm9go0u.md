---
title: "Bài 1: Giới thiệu Android và Thiết lập Môi trường"
postId: "0k17150thm9go0u"
category: "Android"
created: "1/9/2025"
updated: "1/9/2025"
---

# Bài 1: Giới thiệu Android và Thiết lập Môi trường


## 🎯 Mục tiêu bài học

Sau khi hoàn thành bài học này, học viên sẽ có thể:

- Hiểu được lịch sử phát triển và kiến trúc cơ bản của hệ điều hành Android
- Nắm vững khái niệm Android API Levels và tầm quan trọng của compatibility
- Thiết lập môi trường phát triển Android hoàn chỉnh với Android Studio
- Tạo và chạy thành công ứng dụng Android đầu tiên
- Hiểu cấu trúc cơ bản của một Android project
- Sử dụng Android emulator và kết nối với thiết bị thật để test ứng dụng

## 📝 Nội dung chi tiết

### 1. Lịch sử và phát triển của Android

Android là hệ điều hành di động dựa trên Linux kernel, được phát triển bởi Google từ năm 2005. Từ phiên bản đầu tiên Android 1.0 (API level 1) đến phiên bản mới nhất, Android đã trải qua hành trình phát triển đáng kể.

**Các mốc quan trọng:**
- **2005**: Google mua lại Android Inc.
- **2008**: Ra mắt Android 1.0 với HTC Dream
- **2009**: Android 2.0 (Eclair) với Google Maps Navigation
- **2011**: Android 4.0 (Ice Cream Sandwich) - giao diện hiện đại đầu tiên
- **2014**: Android 5.0 (Lollipop) - Material Design
- **2017**: Kotlin trở thành ngôn ngữ chính thức
- **2021**: Jetpack Compose stable release

### 2. Kiến trúc hệ điều hành Android

Android sử dụng kiến trúc nhiều lớp (layered architecture):

```
┌─────────────────────────────────────┐
│        Application Layer            │  <- Java/Kotlin Apps
├─────────────────────────────────────┤
│    Application Framework Layer      │  <- Activity Manager, Content Providers
├─────────────────────────────────────┤
│         Libraries Layer             │  <- Surface Manager, Media Framework
├─────────────────────────────────────┤
│       Android Runtime (ART)        │  <- Dalvik Virtual Machine replacement
├─────────────────────────────────────┤
│         Linux Kernel               │  <- Process Management, Drivers
└─────────────────────────────────────┘
```

**Giải thích từng layer:**

1. **Linux Kernel**: Lớp thấp nhất, quản lý hardware và system resources
2. **Android Runtime (ART)**: Môi trường thực thi ứng dụng, thay thế Dalvik VM
3. **Libraries Layer**: Các thư viện native C/C++ như SQLite, OpenGL ES
4. **Application Framework**: API framework cho developers
5. **Application Layer**: Nơi các ứng dụng được cài đặt và chạy

### 3. Android API Levels và Compatibility

**API Level** là một số nguyên xác định phiên bản Android framework API mà ứng dụng được thiết kế để sử dụng.

```kotlin
// Ví dụ trong build.gradle.kts
android {
    compileSdk 34          // API level để compile
    
    defaultConfig {
        minSdk 24          // API level thấp nhất hỗ trợ
        targetSdk 34       // API level mục tiêu
    }
}
```

**Các khái niệm quan trọng:**
- **minSdkVersion**: Phiên bản Android thấp nhất mà app có thể chạy
- **targetSdkVersion**: Phiên bản Android mà app được thiết kế và test
- **compileSdkVersion**: Phiên bản API để compile source code

### 4. So sánh Kotlin vs Java cho Android

| Đặc điểm | Kotlin | Java |
|----------|--------|------|
| Null Safety | Built-in null safety | NullPointerException risks |
| Code conciseness | Ngắn gọn hơn ~40% | Verbose hơn |
| Interoperability | 100% tương thích với Java | Tương thích với Kotlin |
| Coroutines | Native async support | Phải dùng callbacks/threads |
| Extension functions | Có | Không |
| Status | Preferred language | Still supported |

### 5. Thiết lập môi trường phát triển

#### 5.1 Cài đặt Android Studio

1. **Download Android Studio** từ developer.android.com
2. **System requirements:**
   - Windows: 8GB RAM, 8GB disk space
   - macOS: 8GB RAM, 8GB disk space  
   - Linux: 8GB RAM, 8GB disk space

3. **Cấu hình initial setup:**
```bash
# Kiểm tra Java version (cần JDK 11 hoặc cao hơn)
java -version

# Android Studio sẽ tự động download:
# - Android SDK
# - Android SDK Platform-Tools  
# - Android SDK Build-Tools
# - Android Emulator
```

#### 5.2 SDK Manager Configuration

SDK Manager cho phép download và quản lý:
- **SDK Platforms**: Các phiên bản Android khác nhau
- **SDK Tools**: Build tools, platform tools
- **System Images**: Cho Android emulator

```bash
# Các SDK platforms nên cài đặt:
- Android 14.0 (API level 34) - Latest
- Android 10.0 (API level 29) - Stable with good coverage
- Android 7.0 (API level 24) - Minimum recommended
```

#### 5.3 AVD Manager Setup

Android Virtual Device (AVD) Manager để tạo và quản lý emulators:

```kotlin
// Recommended AVD configurations:
1. Pixel 6 API 34 (Android 14) - Latest testing
2. Pixel 4 API 29 (Android 10) - Stable testing  
3. Nexus 5X API 24 (Android 7) - Minimum API testing
```

### 6. Cấu trúc Android Project

Khi tạo project mới, Android Studio tạo cấu trúc thư mục chuẩn:

```
MyApplication/
├── app/
│   ├── src/
│   │   ├── main/
│   │   │   ├── java/com/example/myapplication/
│   │   │   │   └── MainActivity.kt
│   │   │   ├── res/
│   │   │   │   ├── layout/
│   │   │   │   │   └── activity_main.xml
│   │   │   │   ├── values/
│   │   │   │   │   ├── strings.xml
│   │   │   │   │   └── colors.xml
│   │   │   │   └── mipmap/
│   │   │   └── AndroidManifest.xml
│   │   └── test/ & androidTest/
│   ├── build.gradle.kts
│   └── proguard-rules.pro
├── gradle/
├── build.gradle.kts
└── settings.gradle.kts
```

**Giải thích các thư mục quan trọng:**
- **java/**: Chứa source code Kotlin/Java
- **res/**: Resources (layout, strings, images, colors)
- **AndroidManifest.xml**: Khai báo components và permissions
- **build.gradle.kts**: Cấu hình build cho module

### 7. Android Manifest File

AndroidManifest.xml là file cấu hình chính của ứng dụng:

```xml
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools">

    <application
        android:allowBackup="true"
        android:dataExtractionRules="@xml/data_extraction_rules"
        android:fullBackupContent="@xml/backup_rules"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/Theme.MyApplication"
        tools:targetApi="31">
        
        <activity
            android:name=".MainActivity"
            android:exported="true"
            android:theme="@style/Theme.MyApplication">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        
    </application>
</manifest>
```

### 8. Gradle Build System

Gradle là build system chính thức của Android:

```kotlin
// Module level build.gradle.kts
android {
    namespace = "com.example.myapplication"
    compileSdk = 34

    defaultConfig {
        applicationId = "com.example.myapplication"
        minSdk = 24
        targetSdk = 34
        versionCode = 1
        versionName = "1.0"

        testInstrumentationRunner = "androidx.test.runner.AndroidJUnitRunner"
    }

    buildTypes {
        release {
            isMinifyEnabled = false
            proguardFiles(getDefaultProguardFile("proguard-android-optimize.txt"), "proguard-rules.pro")
        }
    }
    
    compileOptions {
        sourceCompatibility = JavaVersion.VERSION_1_8
        targetCompatibility = JavaVersion.VERSION_1_8
    }
    
    kotlinOptions {
        jvmTarget = "1.8"
    }
}

dependencies {
    implementation("androidx.core:core-ktx:1.12.0")
    implementation("androidx.appcompat:appcompat:1.6.1")
    implementation("com.google.android.material:material:1.11.0")
    implementation("androidx.constraintlayout:constraintlayout:2.1.4")
    
    testImplementation("junit:junit:4.13.2")
    androidTestImplementation("androidx.test.ext:junit:1.1.5")
    androidTestImplementation("androidx.test.espresso:espresso-core:3.5.1")
}
```

## 🏆 Bài tập thực hành

### Đề bài: Tạo ứng dụng "Personal Greeting"

Tạo một ứng dụng Android đơn giản với các yêu cầu sau:
1. Hiển thị lời chào "Xin chào, [Tên của bạn]!"
2. Có một button "Đổi ngôn ngữ" để chuyển đổi giữa tiếng Việt và tiếng Anh
3. Có một EditText để người dùng nhập tên
4. Khi nhấn button "Cập nhật", lời chào sẽ hiển thị tên mới

### Lời giải chi tiết:

#### Bước 1: Tạo project mới
```kotlin
// File: MainActivity.kt
class MainActivity : AppCompatActivity() {
    
    private lateinit var tvGreeting: TextView
    private lateinit var etName: EditText
    private lateinit var btnUpdate: Button
    private lateinit var btnChangeLanguage: Button
    
    private var isVietnamese = true
    
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
        
        initViews()
        setupClickListeners()
        updateGreeting()
    }
    
    private fun initViews() {
        tvGreeting = findViewById(R.id.tvGreeting)
        etName = findViewById(R.id.etName)
        btnUpdate = findViewById(R.id.btnUpdate)
        btnChangeLanguage = findViewById(R.id.btnChangeLanguage)
    }
    
    private fun setupClickListeners() {
        btnUpdate.setOnClickListener {
            updateGreeting()
        }
        
        btnChangeLanguage.setOnClickListener {
            isVietnamese = !isVietnamese
            updateLanguage()
            updateGreeting()
        }
    }
    
    private fun updateGreeting() {
        val name = etName.text.toString().ifEmpty { 
            if (isVietnamese) "Bạn" else "You" 
        }
        
        val greeting = if (isVietnamese) {
            "Xin chào, $name!"
        } else {
            "Hello, $name!"
        }
        
        tvGreeting.text = greeting
    }
    
    private fun updateLanguage() {
        val updateText = if (isVietnamese) "Cập nhật" else "Update"
        val changeLanguageText = if (isVietnamese) "English" else "Tiếng Việt"
        
        btnUpdate.text = updateText
        btnChangeLanguage.text = changeLanguageText
        
        val hintText = if (isVietnamese) "Nhập tên của bạn" else "Enter your name"
        etName.hint = hintText
    }
}
```

#### Bước 2: Tạo layout
```xml
<!-- File: res/layout/activity_main.xml -->
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:padding="16dp"
    android:gravity="center">

    <TextView
        android:id="@+id/tvGreeting"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Xin chào!"
        android:textSize="24sp"
        android:textStyle="bold"
        android:layout_marginBottom="32dp"
        android:textAlignment="center" />

    <EditText
        android:id="@+id/etName"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:hint="Nhập tên của bạn"
        android:layout_marginBottom="16dp"
        android:padding="12dp"
        android:background="@drawable/rounded_edittext"
        android:textSize="16sp" />

    <Button
        android:id="@+id/btnUpdate"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="Cập nhật"
        android:layout_marginBottom="16dp"
        android:padding="12dp"
        android:textSize="16sp" />

    <Button
        android:id="@+id/btnChangeLanguage"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="English"
        android:padding="12dp"
        android:textSize="16sp"
        style="@style/Widget.Material3.Button.OutlinedButton" />

</LinearLayout>
```

#### Bước 3: Thêm resources
```xml
<!-- File: res/values/strings.xml -->
<resources>
    <string name="app_name">Personal Greeting</string>
</resources>
```

```xml
<!-- File: res/drawable/rounded_edittext.xml -->
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"
    android:shape="rectangle">
    <corners android:radius="8dp" />
    <stroke android:width="1dp" android:color="#CCCCCC" />
    <solid android:color="#FFFFFF" />
</shape>
```

**Giải thích logic:**
1. **initViews()**: Khởi tạo tất cả views bằng findViewById
2. **setupClickListeners()**: Thiết lập sự kiện click cho buttons
3. **updateGreeting()**: Cập nhật lời chào dựa trên tên người dùng và ngôn ngữ
4. **updateLanguage()**: Thay đổi text của các UI elements theo ngôn ngữ

## 🔑 Những điểm quan trọng cần lưu ý

### 1. API Level Strategy
- **minSdkVersion**: Chọn dựa trên thị phần và tính năng cần thiết
- **targetSdkVersion**: Luôn update lên phiên bản mới nhất
- **compileSdkVersion**: Sử dụng phiên bản mới nhất để có access vào latest APIs

### 2. Gradle Configuration
- Sử dụng Kotlin DSL (.kts) thay vì Groovy cho type safety
- Enable ViewBinding/DataBinding để tránh findViewById
- Cấu hình ProGuard cho release builds

### 3. Emulator vs Physical Device
- Emulator: Nhanh để test, dễ debug
- Physical device: Performance thật, hardware sensors

### 4. Common Mistakes
- Quên enable USB Debugging trên device thật
- Không match compileSdkVersion với buildToolsVersion
- Hard-code strings thay vì sử dụng string resources
- Không handle configuration changes (screen rotation)

### 5. Best Practices từ đầu
- Sử dụng ConstraintLayout cho complex layouts
- Implement proper string resources cho internationalization  
- Follow Material Design guidelines
- Enable ViewBinding để type-safe view access

## 📝 Bài tập về nhà

### Bài 1: Weather Display App
Tạo ứng dụng hiển thị thông tin thời tiết với các yêu cầu:
- Hiển thị tên thành phố, nhiệt độ, và mô tả thời tiết
- Có button để "refresh" data (giả lập với random data)
- Support cả độ C và độ F
- Responsive design cho cả phone và tablet orientation

### Bài 2: Student Information Manager
Tạo ứng dụng quản lý thông tin sinh viên:
- Form nhập: Tên, tuổi, lớp, điểm trung bình
- Button "Lưu" để lưu thông tin (chỉ hiển thị trong TextView)
- Button "Clear" để xóa form
- Validation: Tên không được để trống, tuổi từ 16-30, điểm từ 0-10
- Hiển thị xếp loại học tập dựa trên điểm TB (Giỏi ≥8, Khá ≥6.5, TB ≥5, Yếu <5)

**Yêu cầu kỹ thuật:**
- Sử dụng proper input types cho EditText
- Handle configuration changes
- Implement proper string resources
- Create custom drawable cho backgrounds
- Test trên ít nhất 2 API levels khác nhau

---

*Post ID: 0k17150thm9go0u*  
*Category: Android*  
*Created: 1/9/2025*  
*Updated: 1/9/2025*
