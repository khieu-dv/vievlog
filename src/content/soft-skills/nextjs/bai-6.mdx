# BÃ i 6: Layouts, Templates vÃ  Navigation trong Next.js App Router

<div className="bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border-l-4 border-blue-500 mb-8">
  <h2 className="text-2xl font-bold text-blue-800 mb-3">ğŸ¯ Má»¥c tiÃªu bÃ i há»c</h2>
  <p className="text-blue-700">Hiá»ƒu vÃ  thÃ nh tháº¡o viá»‡c sá»­ dá»¥ng Layout, Template vÃ  Navigation trong Next.js App Router Ä‘á»ƒ xÃ¢y dá»±ng cáº¥u trÃºc á»©ng dá»¥ng chuyÃªn nghiá»‡p.</p>
</div>

## ğŸ“š Ná»™i dung chÃ­nh

### 1. Layout trong Next.js App Router

<div className="bg-indigo-50 p-5 rounded-lg border border-indigo-200 mb-6">
  <h4 className="font-bold text-indigo-800 mb-3">ğŸ” Layout lÃ  gÃ¬?</h4>
  <p className="text-indigo-700 mb-3">Layout lÃ  má»™t <strong>wrapper component</strong> bao bá»c ná»™i dung cá»§a nhiá»u trang, giÃºp:</p>
  <ul className="text-indigo-600 space-y-1 ml-4">
    <li>â€¢ <strong>TÃ¡i sá»­ dá»¥ng UI:</strong> Header, footer, sidebar chung</li>
    <li>â€¢ <strong>Duy trÃ¬ state:</strong> KhÃ´ng máº¥t dá»¯ liá»‡u khi chuyá»ƒn trang</li>
    <li>â€¢ <strong>KhÃ´ng re-render:</strong> Chá»‰ pháº§n content thay Ä‘á»•i</li>
    <li>â€¢ <strong>Nested structure:</strong> Layout trong layout</li>
  </ul>
</div>

**VÃ­ dá»¥ thá»±c táº¿:** Khi báº¡n browse Facebook, header (logo, menu) luÃ´n á»Ÿ Ä‘Ã³, chá»‰ pháº§n newsfeed thay Ä‘á»•i - Ä‘Ã³ chÃ­nh lÃ  Layout!

```mermaid
graph TD
    A[Root Layout] --> B[Dashboard Layout]
    A --> C[Blog Layout]
    B --> D[Dashboard Page]
    B --> E[Analytics Page]
    C --> F[Blog Post]
    C --> G[Category Page]
```

#### 1.1 Root Layout (Báº¯t buá»™c)

<div className="bg-red-50 p-4 rounded-lg border border-red-200 mb-4">
  <h5 className="font-semibold text-red-800 mb-2">âš ï¸ Root Layout - KhÃ¡i niá»‡m quan trá»ng</h5>
  <p className="text-red-700"><strong>Root Layout</strong> lÃ  layout gá»‘c, báº¯t buá»™c pháº£i cÃ³ trong má»i á»©ng dá»¥ng Next.js App Router. NÃ³ thay tháº¿ <code>_app.js</code> vÃ  <code>_document.js</code> cá»§a Pages Router.</p>
</div>

| Äáº·c Ä‘iá»ƒm | MÃ´ táº£ | So sÃ¡nh vá»›i Pages Router |
|----------|--------|-----------------------|
| **Vá»‹ trÃ­** | `app/layout.tsx` | Thay `pages/_app.js` + `pages/_document.js` |
| **Báº¯t buá»™c** | CÃ³, báº¯t buá»™c pháº£i cÃ³ | `_app.js` báº¯t buá»™c, `_document.js` tÃ¹y chá»n |
| **Pháº¡m vi** | ToÃ n bá»™ á»©ng dá»¥ng | ToÃ n bá»™ á»©ng dá»¥ng |
| **HTML tags** | Pháº£i chá»©a `<html>` vÃ  `<body>` | Chá»‰ `_document.js` cÃ³ HTML tags |

```typescript
// app/layout.tsx
import type { Metadata } from 'next'
import { Inter } from 'next/font/google'
import './globals.css'

const inter = Inter({ subsets: ['latin'] })

export const metadata: Metadata = {
  title: 'My Next.js App',
  description: 'Generated by create next app',
}

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="en">
      <body className={inter.className}>
        <header className="bg-blue-600 text-white p-4">
          <h1 className="text-xl font-bold">My Website</h1>
        </header>
        <main className="min-h-screen">
          {children}
        </main>
        <footer className="bg-gray-800 text-white p-4 text-center">
          Â© 2024 My Website
        </footer>
      </body>
    </html>
  )
}
```

#### 1.2 Nested Layouts

#### 1.2 Nested Layouts

<div className="bg-yellow-50 p-4 rounded-lg border border-yellow-200 mb-4">
  <h5 className="font-semibold text-yellow-800 mb-2">ğŸ’¡ Nested Layout - Cáº¥u trÃºc lá»“ng nhau</h5>
  <p className="text-yellow-700 mb-3"><strong>Nested Layout</strong> cho phÃ©p báº¡n táº¡o layout con bÃªn trong layout cha, táº¡o thÃ nh cáº¥u trÃºc phÃ¢n cáº¥p.</p>
  <div className="bg-white p-3 rounded border">
    <strong>VÃ­ dá»¥:</strong> Trang web e-commerce cÃ³:
    <ul className="mt-2 ml-4 text-yellow-600">
      <li>â€¢ <strong>Root Layout:</strong> Header chung, Footer chung</li>
      <li>â€¢ <strong>Shop Layout:</strong> Sidebar filter sáº£n pháº©m</li>
      <li>â€¢ <strong>Product Layout:</strong> Breadcrumb, product navigation</li>
    </ul>
  </div>
</div>

<div className="bg-gray-100 p-4 rounded-lg mb-4">
  <h6 className="font-semibold text-gray-800 mb-2">ğŸ”„ CÆ¡ cháº¿ hoáº¡t Ä‘á»™ng:</h6>
  <code className="text-sm text-gray-600">
    Root Layout â†’ Dashboard Layout â†’ Page Content
  </code>
  <p className="text-gray-600 mt-2 text-sm">Má»—i layout wrap layout con, giá»‘ng nhÆ° Russian nesting dolls!</p>
</div>

```typescript
// app/dashboard/layout.tsx
import { SideNav } from '@/components/SideNav'

export default function DashboardLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <div className="flex h-screen bg-gray-100">
      <SideNav />
      <div className="flex-1 flex flex-col overflow-hidden">
        <main className="flex-1 overflow-x-hidden overflow-y-auto bg-gray-200 p-6">
          {children}
        </main>
      </div>
    </div>
  )
}
```

### 2. Templates vs Layouts - Sá»± khÃ¡c biá»‡t quan trá»ng

<div className="bg-purple-50 p-5 rounded-lg border border-purple-200 mb-6">
  <h4 className="font-bold text-purple-800 mb-3">ğŸ¤” Template vs Layout - Khi nÃ o dÃ¹ng cÃ¡i gÃ¬?</h4>
  
  <div className="grid md:grid-cols-2 gap-4">
    <div className="bg-white p-4 rounded border">
      <h5 className="font-semibold text-purple-700 mb-2">ğŸ“„ Layout</h5>
      <p className="text-purple-600 text-sm mb-2">Giá»‘ng nhÆ° "khung cá»‘ Ä‘á»‹nh" cá»§a ngÃ´i nhÃ </p>
      <ul className="text-purple-600 text-sm space-y-1">
        <li>â€¢ KhÃ´ng Ä‘á»•i khi chuyá»ƒn trang</li>
        <li>â€¢ State Ä‘Æ°á»£c giá»¯ nguyÃªn</li>
        <li>â€¢ DÃ¹ng cho: Header, Sidebar, Footer</li>
      </ul>
    </div>
    
    <div className="bg-white p-4 rounded border">
      <h5 className="font-semibold text-purple-700 mb-2">ğŸ”„ Template</h5>
      <p className="text-purple-600 text-sm mb-2">Giá»‘ng nhÆ° "wallpaper" thay Ä‘á»•i má»—i phÃ²ng</p>
      <ul className="text-purple-600 text-sm space-y-1">
        <li>â€¢ Re-render má»—i láº§n chuyá»ƒn trang</li>
        <li>â€¢ State bá»‹ reset</li>
        <li>â€¢ DÃ¹ng cho: Animation, Analytics tracking</li>
      </ul>
    </div>
  </div>
</div>

| KhÃ­a cáº¡nh | Layout | Template | VÃ­ dá»¥ thá»±c táº¿ |
|-----------|---------|----------|---------------|
| **Re-render** | âŒ KhÃ´ng re-render | âœ… Re-render má»—i láº§n | Layout: Menu luÃ´n hiá»‡n / Template: Fade in má»—i trang |
| **State** | ğŸ”’ Giá»¯ nguyÃªn state | ğŸ”„ Reset state | Layout: Search box giá»¯ text / Template: Animation reset |
| **Performance** | âš¡ Nhanh hÆ¡n | ğŸŒ Cháº­m hÆ¡n | Layout: KhÃ´ng tÃ­nh toÃ¡n láº¡i / Template: TÃ­nh toÃ¡n má»—i láº§n |
| **Use cases** | Navigation, UI cá»‘ Ä‘á»‹nh | Tracking, Animation | Layout: Header/Footer / Template: Page transitions |

#### 2.1 Khi nÃ o sá»­ dá»¥ng Template - TrÆ°á»ng há»£p cá»¥ thá»ƒ

<div className="bg-orange-50 p-4 rounded-lg border border-orange-200 mb-4">
  <h5 className="font-semibold text-orange-800 mb-2">ğŸ¯ Use cases cho Template:</h5>
  <ul className="text-orange-700 space-y-2">
    <li><strong>ğŸ“Š Analytics tracking:</strong> Äáº¿m page view má»—i láº§n user vÃ o trang</li>
    <li><strong>ğŸ¨ Animation:</strong> Fade in/out effect má»—i khi chuyá»ƒn trang</li>
    <li><strong>ğŸ”„ Reset form:</strong> Clear form data khi chuyá»ƒn sang trang khÃ¡c</li>
    <li><strong>â±ï¸ Timer reset:</strong> Äá»“ng há»“ Ä‘áº¿m ngÆ°á»£c reset vá» 0</li>
  </ul>
</div>

```typescript
// app/template.tsx
'use client'
 
import { useEffect } from 'react'
import { usePathname } from 'next/navigation'

export default function Template({ children }: { children: React.ReactNode }) {
  const pathname = usePathname()
  
  useEffect(() => {
    // Analytics tracking cho má»—i page view
    console.log(`Page viewed: ${pathname}`)
  }, [pathname])

  return (
    <div className="animate-fadeIn">
      {children}
    </div>
  )
}
```

### 3. Navigation trong Next.js - Client-side routing

<div className="bg-green-50 p-5 rounded-lg border border-green-200 mb-6">
  <h4 className="font-bold text-green-800 mb-3">ğŸ§­ Navigation lÃ  gÃ¬ vÃ  táº¡i sao quan trá»ng?</h4>
  
  <div className="bg-white p-4 rounded border mb-4">
    <h5 className="font-semibold text-green-700 mb-2">ğŸŒ Traditional Navigation (Server-side)</h5>
    <p className="text-green-600 text-sm mb-2">Má»—i láº§n click link â†’ Server request â†’ Full page reload â†’ Cháº­m â³</p>
    <code className="text-xs text-gray-600">Click â†’ Server â†’ HTML má»›i â†’ Render láº¡i toÃ n bá»™</code>
  </div>
  
  <div className="bg-white p-4 rounded border">
    <h5 className="font-semibold text-green-700 mb-2">âš¡ Next.js Navigation (Client-side)</h5>
    <p className="text-green-600 text-sm mb-2">Click link â†’ JavaScript xá»­ lÃ½ â†’ Chá»‰ thay Ä‘á»•i ná»™i dung â†’ Nhanh ğŸš€</p>
    <code className="text-xs text-gray-600">Click â†’ JavaScript â†’ Content má»›i â†’ Chá»‰ render pháº§n thay Ä‘á»•i</code>
  </div>
</div>

#### 3.1 Link Component - TrÃ¡i tim cá»§a Navigation

<div className="bg-blue-50 p-4 rounded-lg border border-blue-200 mb-4">
  <h5 className="font-semibold text-blue-800 mb-2">ğŸ”— Link Component vs tháº» HTML `<a>`</h5>
  <div className="grid md:grid-cols-2 gap-4 text-sm">
    <div className="bg-white p-3 rounded">
      <strong className="text-red-600">âŒ Tháº» `<a>` thÃ´ng thÆ°á»ng:</strong>
      <ul className="text-red-500 mt-2 space-y-1">
        <li>â€¢ Full page refresh</li>
        <li>â€¢ Máº¥t state cá»§a app</li>
        <li>â€¢ Cháº­m, khÃ´ng smooth</li>
        <li>â€¢ KhÃ´ng prefetch</li>
      </ul>
    </div>
    <div className="bg-white p-3 rounded">
      <strong className="text-green-600">âœ… Next.js Link:</strong>
      <ul className="text-green-500 mt-2 space-y-1">
        <li>â€¢ Client-side navigation</li>
        <li>â€¢ Giá»¯ nguyÃªn state</li>
        <li>â€¢ Nhanh, mÆ°á»£t mÃ </li>
        <li>â€¢ Auto prefetch</li>
      </ul>
    </div>
  </div>
</div>

<div className="overflow-x-auto">

| Props | Kiá»ƒu dá»¯ liá»‡u | MÃ´ táº£ chi tiáº¿t | VÃ­ dá»¥ thá»±c táº¿ |
|-------|-------------|----------------|---------------|
| **href** | string \| object | ÄÆ°á»ng dáº«n Ä‘Ã­ch (báº¯t buá»™c) | `/about`, `/products/123` |
| **replace** | boolean | Thay tháº¿ history thay vÃ¬ thÃªm má»›i | `true` - KhÃ´ng thá»ƒ back button |
| **scroll** | boolean | CÃ³ scroll lÃªn Ä‘áº§u trang khÃ´ng | `false` - Giá»¯ vá»‹ trÃ­ cuá»™n |
| **prefetch** | boolean | Táº£i trÆ°á»›c trang á»Ÿ background | `true` - Nhanh hÆ¡n khi click |

</div>

<div className="bg-gray-100 p-4 rounded-lg mt-4">
  <h6 className="font-semibold text-gray-800 mb-2">ğŸš€ Prefetch lÃ  gÃ¬?</h6>
  <p className="text-gray-600 text-sm">Khi Link component xuáº¥t hiá»‡n trong viewport, Next.js tá»± Ä‘á»™ng táº£i code cá»§a trang Ä‘Ã­ch á»Ÿ background. Khi user click â†’ trang hiá»ƒn thá»‹ ngay láº­p tá»©c!</p>
</div>

```typescript
// components/Navigation.tsx
import Link from 'next/link'
import { usePathname } from 'next/navigation'

const navItems = [
  { href: '/', label: 'Trang chá»§' },
  { href: '/about', label: 'Giá»›i thiá»‡u' },
  { href: '/products', label: 'Sáº£n pháº©m' },
  { href: '/contact', label: 'LiÃªn há»‡' }
]

export function Navigation() {
  const pathname = usePathname()

  return (
    <nav className="flex space-x-6">
      {navItems.map((item) => (
        <Link
          key={item.href}
          href={item.href}
          className={`px-3 py-2 rounded-md text-sm font-medium transition-colors ${
            pathname === item.href
              ? 'text-blue-600 bg-blue-100'
              : 'text-gray-600 hover:text-blue-600 hover:bg-gray-100'
          }`}
        >
          {item.label}
        </Link>
      ))}
    </nav>
  )
}
```

#### 3.2 Programmatic Navigation - Äiá»u hÆ°á»›ng báº±ng code

<div className="bg-indigo-50 p-4 rounded-lg border border-indigo-200 mb-4">
  <h5 className="font-semibold text-indigo-800 mb-2">ğŸ”§ Programmatic Navigation lÃ  gÃ¬?</h5>
  <p className="text-indigo-700 mb-3">LÃ  cÃ¡ch Ä‘iá»u hÆ°á»›ng trang báº±ng JavaScript code thay vÃ¬ user click link. ThÆ°á»ng dÃ¹ng sau khi:</p>
  <ul className="text-indigo-600 space-y-1 ml-4 text-sm">
    <li>â€¢ <strong>Submit form:</strong> ÄÄƒng nháº­p thÃ nh cÃ´ng â†’ chuyá»ƒn trang dashboard</li>
    <li>â€¢ <strong>Conditional logic:</strong> User khÃ´ng cÃ³ quyá»n â†’ chuyá»ƒn trang login</li>
    <li>â€¢ <strong>Timer:</strong> Sau 5 giÃ¢y â†’ chuyá»ƒn trang tá»± Ä‘á»™ng</li>
    <li>â€¢ <strong>API call:</strong> Táº¡o product thÃ nh cÃ´ng â†’ chuyá»ƒn trang chi tiáº¿t</li>
  </ul>
</div>

<div className="bg-white border-l-4 border-blue-500 p-4 mb-4">
  <h6 className="font-semibold text-gray-800 mb-2">ğŸ”„ router.push() vs router.replace()</h6>
  <div className="grid md:grid-cols-2 gap-4 text-sm">
    <div>
      <strong>router.push():</strong>
      <p className="text-gray-600">ThÃªm trang má»›i vÃ o history â†’ User cÃ³ thá»ƒ back button</p>
    </div>
    <div>
      <strong>router.replace():</strong>
      <p className="text-gray-600">Thay tháº¿ trang hiá»‡n táº¡i â†’ User khÃ´ng thá»ƒ back button</p>
    </div>
  </div>
</div>

```typescript
'use client'
import { useRouter } from 'next/navigation'

export function LoginForm() {
  const router = useRouter()

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault()
    // Logic Ä‘Äƒng nháº­p
    const success = await login()
    
    if (success) {
      router.push('/dashboard')
      // hoáº·c router.replace('/dashboard') Ä‘á»ƒ thay tháº¿ history
    }
  }

  return (
    <form onSubmit={handleSubmit} className="space-y-4">
      {/* Form fields */}
    </form>
  )
}
```

### 4. Loading States vÃ  Error Boundaries - UX mÆ°á»£t mÃ 

<div className="bg-cyan-50 p-5 rounded-lg border border-cyan-200 mb-6">
  <h4 className="font-bold text-cyan-800 mb-3">â³ Táº¡i sao cáº§n Loading States?</h4>
  <p className="text-cyan-700 mb-4">Khi user chuyá»ƒn trang hoáº·c load data, cÃ³ thá»ƒ máº¥t vÃ i giÃ¢y. Thay vÃ¬ Ä‘á»ƒ mÃ n hÃ¬nh tráº¯ng â†’ hiá»ƒn thá»‹ loading Ä‘á»ƒ user biáº¿t app Ä‘ang hoáº¡t Ä‘á»™ng!</p>
  
  <div className="bg-white p-4 rounded border">
    <strong className="text-cyan-800">Tráº£i nghiá»‡m user:</strong>
    <div className="mt-2 text-sm text-cyan-600">
      <span className="inline-block w-3 h-3 bg-red-400 rounded-full mr-2"></span>KhÃ´ng cÃ³ loading: "App bá»‹ lá»—i rá»“i?" ğŸ˜°<br/>
      <span className="inline-block w-3 h-3 bg-green-400 rounded-full mr-2"></span>CÃ³ loading: "Okay, Ä‘ang load..." ğŸ˜Š
    </div>
  </div>
</div>

#### 4.1 Loading UI - Automatic Loading States

<div className="bg-yellow-50 p-4 rounded-lg border border-yellow-200 mb-4">
  <h5 className="font-semibold text-yellow-800 mb-2">ğŸ¯ CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a loading.tsx:</h5>
  <ol className="text-yellow-700 space-y-2 ml-4">
    <li><strong>1.</strong> User click vÃ o link hoáº·c button</li>
    <li><strong>2.</strong> Next.js hiá»ƒn thá»‹ `loading.tsx` ngay láº­p tá»©c</li>
    <li><strong>3.</strong> Background: Fetch data cho page Ä‘Ã­ch</li>
    <li><strong>4.</strong> Data vá» xong â†’ áº¨n loading â†’ Hiá»ƒn thá»‹ `page.tsx`</li>
  </ol>
</div>

```mermaid
graph LR
    A[User clicks link] --> B[loading.tsx shows]
    B --> C[Page loads]
    C --> D[loading.tsx hides]
    D --> E[page.tsx shows]
```

```typescript
// app/dashboard/loading.tsx
export default function Loading() {
  return (
    <div className="flex items-center justify-center min-h-screen">
      <div className="animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"></div>
    </div>
  )
}
```

#### 4.2 Error Boundary - Xá»­ lÃ½ lá»—i graceful

<div className="bg-red-50 p-4 rounded-lg border border-red-200 mb-4">
  <h5 className="font-semibold text-red-800 mb-2">ğŸš¨ Error Boundary lÃ  gÃ¬?</h5>
  <p className="text-red-700 mb-3">Khi cÃ³ lá»—i xáº£y ra (API fail, network error, code bug), thay vÃ¬ app crash hoÃ n toÃ n â†’ hiá»ƒn thá»‹ error page thÃ¢n thiá»‡n vá»›i user.</p>
  
  <div className="bg-white p-3 rounded border">
    <strong className="text-gray-800">VÃ­ dá»¥ thá»±c táº¿:</strong>
    <ul className="text-gray-600 text-sm mt-2 space-y-1">
      <li>â€¢ API server down â†’ "Lá»—i káº¿t ná»‘i, vui lÃ²ng thá»­ láº¡i"</li>
      <li>â€¢ Database error â†’ "CÃ³ lá»—i xáº£y ra, chÃºng tÃ´i Ä‘ang kháº¯c phá»¥c"</li>
      <li>â€¢ Permission denied â†’ "Báº¡n khÃ´ng cÃ³ quyá»n truy cáº­p trang nÃ y"</li>
    </ul>
  </div>
</div>

<div className="bg-gray-100 p-4 rounded-lg">
  <h6 className="font-semibold text-gray-800 mb-2">ğŸ”§ Props cá»§a Error Component:</h6>
  <ul className="text-gray-600 text-sm space-y-1">
    <li><strong>error:</strong> Object chá»©a thÃ´ng tin lá»—i (message, stack trace)</li>
    <li><strong>reset:</strong> Function Ä‘á»ƒ thá»­ láº¡i (re-render component bá»‹ lá»—i)</li>
    <li><strong>digest:</strong> ID duy nháº¥t cá»§a lá»—i (Ä‘á»ƒ track vÃ  debug)</li>
  </ul>
</div>

```typescript
// app/dashboard/error.tsx
'use client'

export default function Error({
  error,
  reset,
}: {
  error: Error & { digest?: string }
  reset: () => void
}) {
  return (
    <div className="flex flex-col items-center justify-center min-h-screen">
      <h2 className="text-2xl font-bold text-red-600 mb-4">
        Oops! CÃ³ lá»—i xáº£y ra
      </h2>
      <p className="text-gray-600 mb-4">{error.message}</p>
      <button
        onClick={reset}
        className="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"
      >
        Thá»­ láº¡i
      </button>
    </div>
  )
}
```

### 5. Thá»±c hÃ nh: XÃ¢y dá»±ng Layout hoÃ n chæ•´

#### 5.1 Cáº¥u trÃºc thÆ° má»¥c

```
app/
â”œâ”€â”€ layout.tsx          # Root layout
â”œâ”€â”€ page.tsx           # Home page
â”œâ”€â”€ globals.css
â”œâ”€â”€ (dashboard)/       # Route group
â”‚   â”œâ”€â”€ layout.tsx     # Dashboard layout
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â””â”€â”€ analytics/
â”‚       â””â”€â”€ page.tsx
â””â”€â”€ blog/
    â”œâ”€â”€ layout.tsx     # Blog layout
    â”œâ”€â”€ page.tsx
    â””â”€â”€ [slug]/
        â””â”€â”€ page.tsx
```

#### 5.2 Components cáº§n thiáº¿t

<div className="bg-green-50 p-4 rounded-lg border border-green-200">
  <h4 className="font-semibold text-green-800 mb-2">ğŸ“ Danh sÃ¡ch components</h4>
  <ul className="text-green-700 space-y-1">
    <li>â€¢ Header vá»›i navigation</li>
    <li>â€¢ Sidebar cho dashboard</li>
    <li>â€¢ Footer</li>
    <li>â€¢ Loading spinner</li>
    <li>â€¢ Error boundary</li>
  </ul>
</div>

```typescript
// components/Header.tsx
import Link from 'next/link'
import { Navigation } from './Navigation'

export function Header() {
  return (
    <header className="bg-white shadow-sm border-b">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="flex justify-between items-center h-16">
          <Link href="/" className="flex items-center">
            <h1 className="text-xl font-bold text-gray-900">
              MyApp
            </h1>
          </Link>
          <Navigation />
        </div>
      </div>
    </header>
  )
}
```

### 6. Best Practices

#### 6.1 Performance Tips - Tá»‘i Æ°u hÃ³a hiá»‡u suáº¥t

<div className="bg-emerald-50 p-4 rounded-lg border border-emerald-200 mb-4">
  <h5 className="font-semibold text-emerald-800 mb-2">ğŸš€ Táº¡i sao cáº§n optimize performance?</h5>
  <p className="text-emerald-700 text-sm mb-3">App cháº­m = User bá» Ä‘i. Google nghiÃªn cá»©u: <strong>53% user rá»i khá»i website náº¿u load > 3 giÃ¢y!</strong></p>
</div>

| Ká»¹ thuáº­t | MÃ´ táº£ chi tiáº¿t | CÃ¡ch Ã¡p dá»¥ng | Hiá»‡u quáº£ |
|----------|----------------|--------------|----------|
| **Lazy Loading** | Load component khi user cáº§n | `React.lazy()` + `Suspense` | â¬‡ï¸ Bundle size ban Ä‘áº§u |
| **Code Splitting** | TÃ¡ch code theo route/component | Automatic trong Next.js | âš¡ Load nhanh hÆ¡n |
| **Prefetching** | Táº£i trÆ°á»›c trang user cÃ³ thá»ƒ vÃ o | `<Link prefetch={true}>` | ğŸƒâ€â™‚ï¸ Navigation tá»©c thÃ¬ |
| **Memoization** | Cache component Ä‘Ã£ render | `React.memo()`, `useMemo()` | ğŸ”„ Giáº£m re-render |

<div className="bg-white border-l-4 border-green-500 p-4 mt-4">
  <h6 className="font-semibold text-gray-800 mb-2">ğŸ’¡ Pro tip:</h6>
  <p className="text-gray-600 text-sm">Sá»­ dá»¥ng Next.js DevTools Ä‘á»ƒ measure performance vÃ  identify bottlenecks!</p>
</div>

#### 6.2 SEO vÃ  Accessibility - Quan trá»ng khÃ´ng thá»ƒ bá» qua

<div className="bg-violet-50 p-4 rounded-lg border border-violet-200 mb-4">
  <h5 className="font-semibold text-violet-800 mb-2">ğŸ” SEO (Search Engine Optimization) lÃ  gÃ¬?</h5>
  <p className="text-violet-700 mb-3">LÃ  cÃ¡ch lÃ m cho website dá»… tÃ¬m tháº¥y trÃªn Google, Bing. Metadata giÃºp search engine hiá»ƒu ná»™i dung trang web cá»§a báº¡n.</p>
  
  <div className="grid md:grid-cols-2 gap-4 text-sm">
    <div className="bg-white p-3 rounded border">
      <strong className="text-violet-700">ğŸ“Š SEO Benefits:</strong>
      <ul className="text-violet-600 mt-2 space-y-1">
        <li>â€¢ Xuáº¥t hiá»‡n trÃªn Google search</li>
        <li>â€¢ Social media preview Ä‘áº¹p</li>
        <li>â€¢ TÄƒng traffic website</li>
      </ul>
    </div>
    <div className="bg-white p-3 rounded border">
      <strong className="text-violet-700">â™¿ Accessibility:</strong>
      <ul className="text-violet-600 mt-2 space-y-1">
        <li>â€¢ NgÆ°á»i khuyáº¿t táº­t sá»­ dá»¥ng Ä‘Æ°á»£c</li>
        <li>â€¢ Screen reader support</li>
        <li>â€¢ Keyboard navigation</li>
      </ul>
    </div>
  </div>
</div>

<div className="bg-gray-100 p-4 rounded-lg">
  <h6 className="font-semibold text-gray-800 mb-2">ğŸ·ï¸ Metadata quan trá»ng:</h6>
  <ul className="text-gray-600 text-sm space-y-1">
    <li><strong>title:</strong> TiÃªu Ä‘á» hiá»ƒn thá»‹ trÃªn tab browser vÃ  Google search</li>
    <li><strong>description:</strong> MÃ´ táº£ ngáº¯n hiá»ƒn thá»‹ dÆ°á»›i title trÃªn Google</li>
    <li><strong>keywords:</strong> Tá»« khÃ³a giÃºp Google hiá»ƒu ná»™i dung trang</li>
    <li><strong>viewport:</strong> Responsive trÃªn mobile device</li>
  </ul>
</div>

```typescript
// app/layout.tsx - SEO optimized
export const metadata: Metadata = {
  title: {
    template: '%s | MyApp',
    default: 'MyApp - Welcome'
  },
  description: 'My awesome Next.js application',
  keywords: ['nextjs', 'react', 'typescript'],
  authors: [{ name: 'Your Name' }],
  viewport: 'width=device-width, initial-scale=1',
}
```

### 7. Tá»•ng káº¿t

<div className="bg-blue-50 p-6 rounded-lg border-l-4 border-blue-500">
  <h3 className="text-lg font-semibold text-blue-800 mb-3">ğŸ¯ Äiá»ƒm quan trá»ng</h3>
  <ul className="text-blue-700 space-y-2">
    <li><strong>Layout:</strong> Shared UI, khÃ´ng re-render, giá»¯ state</li>
    <li><strong>Template:</strong> Re-render má»—i láº§n, reset state</li>
    <li><strong>Navigation:</strong> Sá»­ dá»¥ng Link component vÃ  useRouter</li>
    <li><strong>Loading/Error:</strong> Táº¡o UX mÆ°á»£t mÃ  vá»›i loading.tsx vÃ  error.tsx</li>
  </ul>
</div>

### 8. BÃ i táº­p thá»±c hÃ nh

1. **CÆ¡ báº£n**: Táº¡o layout vá»›i header, sidebar vÃ  footer
2. **NÃ¢ng cao**: Implement breadcrumb navigation
3. **ChuyÃªn sÃ¢u**: XÃ¢y dá»±ng layout responsive vá»›i mobile menu

<div className="bg-gray-50 p-4 rounded-lg mt-6">
  <h4 className="font-semibold text-gray-800 mb-2">ğŸ“š BÃ i tiáº¿p theo</h4>
  <p className="text-gray-600">BÃ i 7: Advanced Routing Patterns - Parallel Routes vÃ  Intercepting Routes</p>
</div>