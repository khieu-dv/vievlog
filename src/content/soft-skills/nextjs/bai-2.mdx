# BÃ i 2: React Fundamentals vÃ  Frontend Frameworks

<div className="bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border-l-4 border-blue-500 mb-8">
  <h2 className="text-2xl font-bold text-blue-800 mb-2">ğŸ¯ Má»¥c tiÃªu bÃ i há»c</h2>
  <p className="text-gray-700">Hiá»ƒu Ä‘Æ°á»£c vai trÃ² cá»§a Frontend Frameworks, náº¯m vá»¯ng cÃ¡c khÃ¡i niá»‡m cá»‘t lÃµi cá»§a React vÃ  cÃ³ thá»ƒ xÃ¢y dá»±ng component Ä‘áº§u tiÃªn.</p>
</div>

## 1. Táº¡i sao cáº§n Frontend Frameworks?

### 1.1. Váº¥n Ä‘á» cá»§a Vanilla JavaScript

```mermaid
graph TD
    A[Vanilla JavaScript Issues] --> B[DOM Manipulation phá»©c táº¡p]
    A --> C[Code khÃ´ng cÃ³ cáº¥u trÃºc]
    A --> D[KhÃ³ báº£o trÃ¬ vÃ  má»Ÿ rá»™ng]
    A --> E[Performance kÃ©m vá»›i UI phá»©c táº¡p]
    A --> F[KhÃ´ng cÃ³ State management]
    
    B --> G[React Solutions]
    C --> G
    D --> G
    E --> G
    F --> G
    
    G --> H[Virtual DOM]
    G --> I[Component-based Architecture]
    G --> J[Declarative Programming]
    G --> K[Built-in State Management]
```

### 1.2. So sÃ¡nh Imperative vs Declarative

| **Äáº·c Ä‘iá»ƒm** | **Imperative (Vanilla JS)** | **Declarative (React)** |
|--------------|----------------------------|--------------------------|
| **CÃ¡ch tiáº¿p cáº­n** | MÃ´ táº£ "lÃ m tháº¿ nÃ o" | MÃ´ táº£ "cÃ¡i gÃ¬" |
| **DOM Manipulation** | Thá»§ cÃ´ng, tá»«ng bÆ°á»›c | Tá»± Ä‘á»™ng qua Virtual DOM |
| **Code** | DÃ i, phá»©c táº¡p | Ngáº¯n gá»n, dá»… hiá»ƒu |
| **Báº£o trÃ¬** | KhÃ³ | Dá»… dÃ ng |
| **Performance** | Phá»¥ thuá»™c dev | Tá»‘i Æ°u tá»± Ä‘á»™ng |

<div className="bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-400 my-6">
  <h3 className="text-lg font-semibold text-yellow-800 mb-2">ğŸ’¡ VÃ­ dá»¥ minh há»a</h3>
  <p className="text-gray-700"><strong>Imperative:</strong> "Äi tháº³ng 100m, ráº½ pháº£i, Ä‘i tiáº¿p 50m"</p>
  <p className="text-gray-700"><strong>Declarative:</strong> "TÃ´i muá»‘n Ä‘áº¿n siÃªu thá»‹ ABC"</p>
</div>

## 2. Virtual DOM vÃ  Component Architecture

### 2.1. Virtual DOM Concept

```mermaid
flowchart LR
    A[State Change] --> B[Virtual DOM]
    B --> C[Diffing Algorithm]
    C --> D[Reconciliation]
    D --> E[Real DOM Update]
    
    B1[Old Virtual DOM] --> C
    B2[New Virtual DOM] --> C
    
    style A fill:#ff9999
    style E fill:#99ff99
    style C fill:#ffff99
```

### 2.2. Component-based Architecture

| **Lá»£i Ã­ch** | **MÃ´ táº£** | **VÃ­ dá»¥** |
|-------------|-----------|-----------|
| **Reusability** | TÃ¡i sá»­ dá»¥ng component | Button, Input, Card |
| **Maintainability** | Dá»… báº£o trÃ¬, update | Chá»‰ sá»­a 1 file, effect toÃ n bá»™ |
| **Modularity** | Chia nhá» á»©ng dá»¥ng | Header, Sidebar, Content |
| **Testing** | Test tá»«ng component riÃªng | Unit test cho tá»«ng component |

## 3. JSX Syntax vÃ  React Components

### 3.1. JSX Fundamentals

<div className="bg-gray-50 p-4 rounded-lg border my-4">
  <h4 className="font-semibold text-gray-800 mb-2">JSX vs HTML Differences</h4>
</div>

| **HTML** | **JSX** | **LÃ½ do** |
|----------|---------|-----------|
| `class` | `className` | `class` lÃ  reserved keyword trong JS |
| `for` | `htmlFor` | `for` lÃ  reserved keyword trong JS |
| `onclick` | `onClick` | camelCase convention |
| `style="color: red"` | `style={{color: 'red'}}` | Object syntax |

### 3.2. Component Types

```mermaid
graph TD
    A[React Components] --> B[Function Components]
    A --> C[Class Components]
    
    B --> D[Hooks Support âœ…]
    B --> E[Modern Approach]
    B --> F[Simpler Syntax]
    
    C --> G[Legacy Approach]
    C --> H[More Verbose]
    C --> I[Lifecycle Methods]
    
    style B fill:#90EE90
    style C fill:#FFB6C1
```

### 3.3. Function Component Example

```tsx
// TodoItem.tsx
interface TodoItemProps {
  id: number;
  title: string;
  completed: boolean;
  onToggle: (id: number) => void;
  onDelete: (id: number) => void;
}

const TodoItem: React.FC<TodoItemProps> = ({ 
  id, title, completed, onToggle, onDelete 
}) => {
  return (
    <div className="flex items-center p-4 border rounded-lg mb-2">
      <input
        type="checkbox"
        checked={completed}
        onChange={() => onToggle(id)}
        className="mr-3 h-4 w-4"
      />
      <span className={`flex-1 ${completed ? 'line-through text-gray-500' : ''}`}>
        {title}
      </span>
      <button
        onClick={() => onDelete(id)}
        className="ml-3 px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600"
      >
        Delete
      </button>
    </div>
  );
};

export default TodoItem;
```

## 4. Props, State vÃ  Event Handling

### 4.1. Props Flow

```mermaid
flowchart TD
    A[Parent Component] -->|Props| B[Child Component]
    B -->|Event| A
    
    A1[State] --> A
    A --> A2[Render UI]
    B --> B1[Receive Props]
    B1 --> B2[Render UI]
    B2 --> B3[Trigger Events]
    B3 -->|Callback| A
    
    style A fill:#e1f5fe
    style B fill:#f3e5f5
```

### 4.2. State Management Flow

| **BÆ°á»›c** | **MÃ´ táº£** | **Code Example** |
|----------|-----------|------------------|
| **1. Initialize** | Khá»Ÿi táº¡o state | `const [count, setCount] = useState(0)` |
| **2. Display** | Hiá»ƒn thá»‹ state | `<p>Count: {count}</p>` |
| **3. Update** | Cáº­p nháº­t state | `setCount(count + 1)` |
| **4. Re-render** | Component tá»± Ä‘á»™ng render láº¡i | React tá»± Ä‘á»™ng thá»±c hiá»‡n |

## 5. React Hooks CÆ¡ Báº£n

### 5.1. useState Hook

<div className="bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500 my-4">
  <h4 className="font-semibold text-blue-800">useState Pattern</h4>
</div>

```tsx
const [state, setState] = useState(initialValue);

// CÃ¡c cÃ¡ch update state
setState(newValue);           // Direct value
setState(prev => prev + 1);   // Function update
setState(prev => ({...prev, name: 'John'})); // Object spread
```

### 5.2. useEffect Hook

```mermaid
graph LR
    A[Component Mount] --> B[useEffect runs]
    C[Dependency Change] --> B
    B --> D[Cleanup Function]
    D --> E[Effect Function]
    E --> F[Component Re-render]
    
    style A fill:#90EE90
    style F fill:#87CEEB
```

### 5.3. useEffect Patterns

| **Pattern** | **Dependencies** | **When it runs** |
|-------------|------------------|------------------|
| `useEffect(() => {})` | None | Every render |
| `useEffect(() => {}, [])` | Empty array | Once on mount |
| `useEffect(() => {}, [dep])` | With dependencies | When dep changes |
| `useEffect(() => { return cleanup }, [])` | With cleanup | Mount + cleanup on unmount |

## 6. Thá»±c hÃ nh: Todo App vá»›i TypeScript

### 6.1. Project Structure

```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ TodoItem.tsx
â”‚   â”œâ”€â”€ TodoList.tsx
â”‚   â””â”€â”€ AddTodo.tsx
â”œâ”€â”€ types/
â”‚   â””â”€â”€ Todo.ts
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ useTodos.ts
â””â”€â”€ App.tsx
```

### 6.2. Todo Type Definition

```tsx
// types/Todo.ts
export interface Todo {
  id: number;
  title: string;
  completed: boolean;
  createdAt: Date;
}

export type TodoAction = 
  | { type: 'ADD'; payload: Omit<Todo, 'id'> }
  | { type: 'TOGGLE'; payload: number }
  | { type: 'DELETE'; payload: number }
  | { type: 'UPDATE'; payload: { id: number; title: string } };
```

### 6.3. Custom Hook for Todo Logic

```tsx
// hooks/useTodos.ts
import { useState, useCallback } from 'react';
import { Todo } from '../types/Todo';

export const useTodos = () => {
  const [todos, setTodos] = useState<Todo[]>([]);

  const addTodo = useCallback((title: string) => {
    const newTodo: Todo = {
      id: Date.now(),
      title,
      completed: false,
      createdAt: new Date()
    };
    setTodos(prev => [...prev, newTodo]);
  }, []);

  const toggleTodo = useCallback((id: number) => {
    setTodos(prev => 
      prev.map(todo => 
        todo.id === id ? { ...todo, completed: !todo.completed } : todo
      )
    );
  }, []);

  const deleteTodo = useCallback((id: number) => {
    setTodos(prev => prev.filter(todo => todo.id !== id));
  }, []);

  return {
    todos,
    addTodo,
    toggleTodo,
    deleteTodo,
    completedCount: todos.filter(todo => todo.completed).length,
    totalCount: todos.length
  };
};
```

### 6.4. Main App Component

```tsx
// App.tsx
import React from 'react';
import { useTodos } from './hooks/useTodos';
import TodoList from './components/TodoList';
import AddTodo from './components/AddTodo';

const App: React.FC = () => {
  const { todos, addTodo, toggleTodo, deleteTodo, completedCount, totalCount } = useTodos();

  return (
    <div className="max-w-2xl mx-auto p-6 bg-white min-h-screen">
      <header className="mb-8">
        <h1 className="text-3xl font-bold text-gray-800 mb-2">
          My Todo App
        </h1>
        <div className="flex space-x-4 text-sm text-gray-600">
          <span>Total: {totalCount}</span>
          <span>Completed: {completedCount}</span>
          <span>Remaining: {totalCount - completedCount}</span>
        </div>
      </header>

      <AddTodo onAdd={addTodo} />
      
      <TodoList 
        todos={todos}
        onToggle={toggleTodo}
        onDelete={deleteTodo}
      />
      
      {todos.length === 0 && (
        <div className="text-center py-12 text-gray-500">
          <p className="text-lg">No todos yet!</p>
          <p>Add your first task above.</p>
        </div>
      )}
    </div>
  );
};

export default App;
```

## 7. Best Practices vÃ  Performance Tips

### 7.1. Performance Optimization

| **Technique** | **When to use** | **Example** |
|---------------|-----------------|-------------|
| **React.memo** | Component re-renders unnecessarily | `export default React.memo(TodoItem)` |
| **useCallback** | Function props to child components | `const handleClick = useCallback(() => {}, [])` |
| **useMemo** | Expensive calculations | `const expensiveValue = useMemo(() => calculate(), [deps])` |
| **Key prop** | Rendering lists | `{items.map(item => <Item key={item.id} />)}` |

### 7.2. Code Organization Tips

```mermaid
graph TD
    A[Component Organization] --> B[Single Responsibility]
    A --> C[Proper File Structure]
    A --> D[Custom Hooks]
    A --> E[TypeScript Types]
    
    B --> F[One purpose per component]
    C --> G[Separate concerns]
    D --> H[Reusable logic]
    E --> I[Type safety]
    
    style A fill:#e8f4f8
    style B fill:#fff2cc
    style C fill:#fff2cc
    style D fill:#fff2cc
    style E fill:#fff2cc
```

<div className="bg-green-50 p-6 rounded-lg border-l-4 border-green-500 mt-8">
  <h3 className="text-lg font-semibold text-green-800 mb-3">âœ… TÃ³m táº¯t bÃ i há»c</h3>
  <ul className="space-y-2 text-green-700">
    <li><strong>Frontend Frameworks:</strong> Giáº£i quyáº¿t váº¥n Ä‘á» phá»©c táº¡p cá»§a vanilla JS</li>
    <li><strong>React Philosophy:</strong> Declarative, component-based, Virtual DOM</li>
    <li><strong>Core Concepts:</strong> JSX, Props, State, Events, Hooks</li>
    <li><strong>Best Practices:</strong> TypeScript, custom hooks, performance optimization</li>
  </ul>
</div>

<div className="bg-orange-50 p-6 rounded-lg border-l-4 border-orange-500 mt-6">
  <h3 className="text-lg font-semibold text-orange-800 mb-3">ğŸš€ Chuáº©n bá»‹ cho bÃ i tiáº¿p theo</h3>
  <p className="text-orange-700">BÃ i 3 sáº½ tÃ¬m hiá»ƒu vá» SPA vs SSR vÃ  giá»›i thiá»‡u Next.js - framework má»Ÿ rá»™ng kháº£ nÄƒng cá»§a React vá»›i server-side rendering vÃ  nhiá»u tÃ­nh nÄƒng máº¡nh máº½ khÃ¡c.</p>
</div>